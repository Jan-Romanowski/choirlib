{% extends 'content/template.html' %}

{% block body %}

<h2 class="text-center m-3">Wydarzenia na {{ date|date:"d F Y" }}</h2>

<!-- Форма для добавления нового события -->
<form method="post">
    {% csrf_token %}
    {{ form.as_p }}
    <input type="submit" class="btn btn-outline-primary" value="Dodaj event">
</form>
<hr>
<!-- Список событий с возможностью их удаления -->
<ul>
    {% for event in events %}
        <li>
            <strong>{{ event.title }}</strong> ({{ event.start_time|date:"H:i" }} - {{ event.end_time|date:"H:i" }})
            <form method="post" style="display:inline;">
                {% csrf_token %}
                <input type="hidden" name="event_id" value="{{ event.id }}">
                <input type="submit" class="btn btn-outline-danger" name="delete_event" value="Usuń">
            </form>
        </li>
    {% empty %}
        <li>Nie ma nic zaplanowanego na ten dzień</li>
    {% endfor %}
</ul>

<!-- Замените ссылки на другие CDN, если предыдущие не работают -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tempusdominus-bootstrap-4@5.1.6/build/css/tempusdominus-bootstrap-4.min.css">
<script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/moment@2.29.1/min/moment.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/tempusdominus-bootstrap-4@5.1.6/build/js/tempusdominus-bootstrap-4.min.js"></script>


<script>
        $(function () {
            $('.timepicker').datetimepicker({
                format: 'HH:mm',
                stepping: 15 // Шаг времени
            });
        });
</script>

{% endblock %}
